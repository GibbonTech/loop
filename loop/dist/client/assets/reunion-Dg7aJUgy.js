import{u as M,r as l,j as e,L as D,t as u}from"./main-B3LjYzJc.js";import{P as O}from"./PageLayout-BH82_raS.js";import{v as z,r as L}from"./validations-CwrIQMtZ.js";import{M as R}from"./message-circle-BLgiZKOB.js";import{c as m}from"./createLucideIcon-DrcHp4QA.js";import{C as V}from"./check-0ut4jEtu.js";/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],q=m("calculator",F);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],I=m("chevron-left",E);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$=m("chevron-right",P);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],T=m("rocket",W);function Q(){const v=M(),[o,f]=l.useState(null),[i,h]=l.useState(null),[d,j]=l.useState(0),[p,g]=l.useState(!1),[a,x]=l.useState({name:"",email:"",phone:""}),b=["09:00","10:00","11:00","14:00","15:00","16:00","17:00"],N=["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],w=l.useMemo(()=>{const t={};return s=>{if(!t[s]){const r=new Date(s).getDate();t[s]=b.map((n,c)=>(r+c)%4!==0)}return t[s]}},[]),k=()=>{const t=new Date;t.setDate(t.getDate()+d*7);const s=[];for(let r=0;r<14;r++){const n=new Date(t);n.setDate(t.getDate()+r);const c=n.getDay();if(c!==0&&c!==6&&s.push({date:n.toISOString(),dayName:N[c],dayNum:n.getDate()}),s.length>=5)break}return s},C=()=>{const t=new Date;return t.setDate(t.getDate()+d*7),t.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})},S=async()=>{const t={name:a.name,email:a.email,phone:a.phone,date:o||"",time:i||""},s=z(L,t);if(!s.success){const r=Object.values(s.errors)[0];u.error(r||"Veuillez remplir tous les champs");return}g(!0);try{await fetch("/api/meetings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:o,time:i,name:a.name,email:a.email,phone:a.phone})}),u.success("Créneau réservé ! Vous recevrez un email de confirmation."),setTimeout(()=>{v({to:"/espace"})},1500)}catch(r){console.error("Error booking meeting:",r),u.error("Erreur lors de la réservation")}finally{g(!1)}},y=t=>{const s=d+t;s<0||(j(s),f(null),h(null))},_=o&&i&&a.name&&a.email&&a.phone;return e.jsxs(O,{showNavLinks:!1,children:[e.jsx("main",{className:"mx-auto max-w-[900px] px-4 pb-20 pt-32 md:px-8",children:e.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"mb-4 text-3xl font-bold tracking-tight",children:"Réservez votre appel"}),e.jsx("p",{className:"mb-8 text-gray-500",children:"15 minutes pour découvrir Driivo et poser toutes vos questions à un conseiller."}),e.jsxs("div",{className:"mb-8 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-[#fd521a]/10 text-[#fd521a]",children:e.jsx(R,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold",children:"Réponses à vos questions"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Comment ça marche, combien ça coûte, etc."})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-[#fd521a]/10 text-[#fd521a]",children:e.jsx(q,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold",children:"Simulation personnalisée"}),e.jsx("div",{className:"text-xs text-gray-500",children:"On calcule ensemble votre salaire net."})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-[#fd521a]/10 text-[#fd521a]",children:e.jsx(T,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold",children:"Prochaines étapes"}),e.jsx("div",{className:"text-xs text-gray-500",children:"On vous explique comment démarrer en 48h."})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 rounded-xl border border-white/50 bg-gradient-to-br from-white/80 to-[#fafaf9]/60 p-4 shadow-[0_20px_40px_-12px_rgba(168,162,158,0.15)] backdrop-blur-3xl",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-gray-200 text-sm font-bold",children:"MF"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold",children:"Mehdi F."}),e.jsx("div",{className:"text-xs text-gray-400",children:"Conseiller Driivo"})]})]})]}),e.jsxs("div",{className:"rounded-[2rem] border border-white/50 bg-gradient-to-br from-white/80 to-[#fafaf9]/60 p-6 shadow-[0_20px_40px_-12px_rgba(168,162,158,0.15)] backdrop-blur-3xl",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>y(-1),disabled:d===0,className:"flex h-8 w-8 items-center justify-center rounded-full bg-gray-100 transition-colors hover:bg-gray-200 disabled:cursor-not-allowed disabled:opacity-50",children:e.jsx(I,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-bold capitalize",children:C()}),e.jsx("button",{onClick:()=>y(1),className:"flex h-8 w-8 items-center justify-center rounded-full bg-gray-100 transition-colors hover:bg-gray-200",children:e.jsx($,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"mb-6 grid grid-cols-5 gap-2",children:k().map(t=>e.jsxs("button",{onClick:()=>{f(t.date),h(null)},className:`rounded-xl border p-3 text-center transition-all ${o===t.date?"border-[#fd521a] bg-[#fd521a] text-white":"border-gray-200 hover:border-[#fd521a]/50 hover:bg-[#fd521a]/5"}`,children:[e.jsx("div",{className:"text-[10px] opacity-70",children:t.dayName}),e.jsx("div",{className:"font-bold",children:t.dayNum})]},t.date))}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mb-3 text-xs font-bold text-gray-400",children:o?"Créneaux disponibles":"Sélectionnez un jour"}),o&&e.jsx("div",{className:"grid grid-cols-3 gap-2",children:b.map((t,s)=>{const n=w(o)[s];return e.jsx("button",{disabled:!n,onClick:()=>h(t),className:`rounded-lg border px-3 py-2 text-sm font-medium transition-all ${i===t?"border-[#fd521a] bg-[#fd521a]/10 text-[#fd521a]":n?"border-gray-200 hover:border-[#fd521a] hover:bg-[#fd521a]/5":"cursor-not-allowed border-gray-100 text-gray-300"}`,children:t},t)})})]}),i&&e.jsxs("div",{className:"mb-6 space-y-3 border-t border-gray-200 pt-6",children:[e.jsx("div",{className:"text-xs font-bold text-gray-400",children:"Vos coordonnées"}),e.jsx("input",{type:"text",placeholder:"Votre nom",value:a.name,onChange:t=>x({...a,name:t.target.value}),className:"w-full rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm focus:border-[#fd521a] focus:outline-none focus:ring-2 focus:ring-[#fd521a]/10"}),e.jsx("input",{type:"email",placeholder:"Votre email",value:a.email,onChange:t=>x({...a,email:t.target.value}),className:"w-full rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm focus:border-[#fd521a] focus:outline-none focus:ring-2 focus:ring-[#fd521a]/10"}),e.jsx("input",{type:"tel",placeholder:"Votre téléphone",value:a.phone,onChange:t=>x({...a,phone:t.target.value}),className:"w-full rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm focus:border-[#fd521a] focus:outline-none focus:ring-2 focus:ring-[#fd521a]/10"})]}),e.jsxs("button",{disabled:!_||p,onClick:S,className:"flex w-full items-center justify-center gap-2 rounded-xl bg-[#fd521a] py-4 text-base font-bold text-white shadow-[0_8px_20px_-4px_rgba(253,82,26,0.3)] transition-all hover:-translate-y-0.5 hover:bg-[#e0410e] disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:translate-y-0",children:[p?"Réservation...":"Confirmer le créneau",e.jsx(V,{className:"h-5 w-5"})]})]})]})}),e.jsx("footer",{className:"py-6 text-center text-xs text-gray-400",children:e.jsx(D,{to:"/",className:"hover:text-[#fd521a]",children:"← Retour à l'accueil"})})]})}export{Q as component};
