import{u as g,r as l,j as e,L as j}from"./main-sBtQy0hW.js";import{P as N}from"./PageLayout-CaQ3PTAK.js";import{f as n,H as v,P as y,g as w}from"./utils-DYSGKx4V.js";import{v as _,s as k}from"./validations-CwrIQMtZ.js";import{S}from"./shield-check-BA0CGX1a.js";import{A as C}from"./arrow-right-BH9dsGHB.js";import{C as P}from"./clock-mp3o0ZgF.js";import{P as R}from"./phone-B-le5AhG.js";import"./createLucideIcon-Bzxjg0_9.js";function H(){const m=g(),[r,p]=l.useState(5e3),[i,d]=l.useState(!1),[t,o]=l.useState({prenom:"",email:"",telephone:""}),[s,x]=l.useState({}),{net:u,cotisations:h}=w(r),b=async a=>{a.preventDefault();const c=_(k,t);if(!c.success){x(c.errors);return}x({}),d(!0);try{await fetch("/api/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:t.prenom,email:t.email,phone:t.telephone,monthlyRevenue:r.toString(),source:"SIMULATEUR"})})}catch(f){console.error("Error saving lead:",f)}finally{d(!1)}m({to:"/resultats",search:{ca:r.toString(),prenom:t.prenom,email:t.email,tel:t.telephone}})};return e.jsxs(N,{navbarVariant:"minimal",children:[e.jsxs("main",{className:"mx-auto max-w-[800px] px-4 pb-20 pt-32 md:px-8",children:[e.jsxs("div",{className:"mb-12 text-center",children:[e.jsxs("h1",{className:"mb-4 text-4xl font-bold tracking-tight md:text-5xl",children:["Combien vous reste-t-il",e.jsx("br",{}),"en ",e.jsx("span",{className:"text-[#fd521a]",children:"net"})," chaque mois ?"]}),e.jsx("p",{className:"mx-auto max-w-md text-gray-500",children:"Glissez le curseur. On calcule tout : salaire, cotisations, protection sociale."})]}),e.jsxs("div",{className:"mb-8 rounded-[2.5rem] border border-white/50 bg-gradient-to-br from-white/70 to-[#fafaf9]/50 p-8 shadow-[0_20px_40px_-12px_rgba(168,162,158,0.15),inset_0_1px_0_0_rgba(255,255,255,0.8)] backdrop-blur-3xl md:p-12",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("label",{className:"mb-3 block text-[10px] font-bold uppercase tracking-widest text-gray-400",children:"Votre chiffre d'affaires mensuel (CA HT)"}),e.jsxs("div",{className:"mb-6 flex items-baseline gap-2",children:[e.jsx("span",{className:"text-6xl font-bold tracking-tighter text-[#111] md:text-7xl",children:n(r)}),e.jsx("span",{className:"text-3xl text-gray-300",children:"€"})]}),e.jsx("input",{type:"range",min:"2000",max:"12000",step:"500",value:r,onChange:a=>p(parseInt(a.target.value)),className:"w-full accent-[#fd521a]"}),e.jsxs("div",{className:"mt-2 flex justify-between text-xs text-gray-400",children:[e.jsx("span",{children:"2 000 €"}),e.jsx("span",{children:"12 000 €"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-6 rounded-2xl border border-white bg-white/60 p-6",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-1 text-[10px] font-bold uppercase tracking-widest text-[#fd521a]",children:"Votre salaire net"}),e.jsxs("div",{className:"text-4xl font-bold tracking-tight text-green-600",children:[n(u)," €"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-1 text-[10px] font-bold uppercase tracking-widest text-gray-400",children:"Cotisations payées"}),e.jsxs("div",{className:"text-2xl font-bold text-gray-500",children:[n(h)," €"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"rounded-xl bg-green-50 p-4",children:[e.jsx(S,{className:"mx-auto mb-2 h-6 w-6 text-green-600"}),e.jsx("div",{className:"text-xs font-bold text-green-700",children:"Chômage"}),e.jsx("div",{className:"text-[10px] text-green-600",children:"Cotisé"})]}),e.jsxs("div",{className:"rounded-xl bg-blue-50 p-4",children:[e.jsx(v,{className:"mx-auto mb-2 h-6 w-6 text-blue-600"}),e.jsx("div",{className:"text-xs font-bold text-blue-700",children:"Mutuelle"}),e.jsx("div",{className:"text-[10px] text-blue-600",children:"Incluse"})]}),e.jsxs("div",{className:"rounded-xl bg-purple-50 p-4",children:[e.jsx(y,{className:"mx-auto mb-2 h-6 w-6 text-purple-600"}),e.jsx("div",{className:"text-xs font-bold text-purple-700",children:"Retraite"}),e.jsx("div",{className:"text-[10px] text-purple-600",children:"Cotisée"})]})]})]})]}),e.jsx("div",{className:"rounded-[2rem] border border-white/50 bg-gradient-to-br from-white/70 to-[#fafaf9]/50 p-8 shadow-[0_20px_40px_-12px_rgba(168,162,158,0.15),inset_0_1px_0_0_rgba(255,255,255,0.8)] backdrop-blur-3xl",children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-bold text-gray-700",children:"Votre prénom"}),e.jsx("input",{type:"text",placeholder:"Jean",value:t.prenom,onChange:a=>o({...t,prenom:a.target.value}),className:`w-full rounded-xl border bg-white/80 px-4 py-3 text-sm transition-all focus:outline-none focus:ring-[3px] ${s.prenom?"border-red-500 focus:border-red-500 focus:ring-red-500/10":"border-black/8 focus:border-[#fd521a] focus:ring-[#fd521a]/10"}`}),s.prenom&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.prenom})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-bold text-gray-700",children:"Votre email"}),e.jsx("input",{type:"email",placeholder:"jean@example.com",value:t.email,onChange:a=>o({...t,email:a.target.value}),className:`w-full rounded-xl border bg-white/80 px-4 py-3 text-sm transition-all focus:outline-none focus:ring-[3px] ${s.email?"border-red-500 focus:border-red-500 focus:ring-red-500/10":"border-black/8 focus:border-[#fd521a] focus:ring-[#fd521a]/10"}`}),s.email&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-bold text-gray-700",children:"Votre téléphone"}),e.jsx("input",{type:"tel",placeholder:"06 12 34 56 78",value:t.telephone,onChange:a=>o({...t,telephone:a.target.value}),className:`w-full rounded-xl border bg-white/80 px-4 py-3 text-sm transition-all focus:outline-none focus:ring-[3px] ${s.telephone?"border-red-500 focus:border-red-500 focus:ring-red-500/10":"border-black/8 focus:border-[#fd521a] focus:ring-[#fd521a]/10"}`}),s.telephone&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.telephone})]}),e.jsxs("button",{type:"submit",disabled:i,className:"flex w-full items-center justify-center gap-2 rounded-xl bg-[#fd521a] py-4 text-base font-bold text-white shadow-[0_8px_20px_-4px_rgba(253,82,26,0.3)] transition-all hover:-translate-y-0.5 hover:bg-[#e0410e] hover:shadow-[0_12px_28px_-4px_rgba(253,82,26,0.4)] disabled:cursor-not-allowed disabled:opacity-70",children:[i?"Chargement...":"Voir le détail complet",e.jsx(C,{className:"h-5 w-5"})]}),e.jsx("p",{className:"text-center text-[10px] text-gray-400",children:"En continuant, vous acceptez notre politique de confidentialité. Nous ne spammons pas."})]})}),e.jsxs("div",{className:"mt-10 flex flex-wrap items-center justify-center gap-6 text-xs font-medium text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-[#fd521a]"})," Réponse en 24h"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4 text-[#fd521a]"})," On vous rappelle"]})]})]}),e.jsx("footer",{className:"py-6 text-center text-xs text-gray-400",children:e.jsx(j,{to:"/",className:"hover:text-[#fd521a]",children:"← Retour à l'accueil"})})]})}export{H as component};
